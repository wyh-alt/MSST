# MSST WebUI 增强安装包使用指南

## 概述

本安装包提供了完整的MSST WebUI部署解决方案，支持自定义安装路径、目录配置、端口设置和用户管理。

## 安装包功能

### 1. 自定义安装路径
- 用户可以选择任意安装目录
- 默认安装到 `C:\Program Files\MSST WebUI`

### 2. 目录配置
- **输入目录**: 临时输入文件存储位置
- **输出目录**: 处理结果输出位置  
- **缓存目录**: 模型和临时文件缓存位置

### 3. 服务器配置
- **端口设置**: 自定义WebUI服务器端口（默认7860）
- **管理员账户**: 设置初始管理员用户名和密码

### 4. 桌面快捷方式
- 安装完成后在桌面创建快捷方式
- 快捷方式指向 `MSST.bat` 批处理文件，而非exe客户端

### 5. 配置管理工具
- 提供图形化配置管理界面
- 支持后期修改所有配置项

## 安装步骤

### 1. 运行安装程序
双击 `MSST_WebUI_Setup_1.0.0.exe` 开始安装

### 2. 选择安装类型
- **完整安装**: 安装所有组件（推荐）
- **自定义安装**: 选择需要的组件

### 3. 配置设置页面

#### 服务器端口设置
- 输入端口号（1-65535）
- 默认端口：7860

#### 管理员账户设置
- 用户名：默认 `admin`
- 密码：默认 `admin123`
- 建议修改为安全密码

#### 目录设置
- **输入目录**: 建议使用 `%LOCALAPPDATA%\MSST_WebUI\input`
- **输出目录**: 建议使用 `%LOCALAPPDATA%\MSST_WebUI\output`
- **缓存目录**: 建议使用 `%LOCALAPPDATA%\MSST_WebUI\cache`

### 4. 完成安装
- 选择是否创建桌面快捷方式
- 选择是否立即启动程序

## 使用说明

### 启动程序
1. 双击桌面快捷方式 `MSST WebUI`
2. 或从开始菜单启动
3. 程序会自动读取配置文件并启动

### 访问界面
- **WebUI服务器**: http://localhost:[端口号]
- **客户端界面**: http://localhost:7861

### 配置管理
1. 从开始菜单启动"配置管理工具"
2. 或运行 `config_manager.py`
3. 修改各种配置项
4. 保存后重启程序生效

## 配置管理工具功能

### 服务器端口设置
- 修改WebUI服务器端口
- 端口范围：1-65535

### 目录设置
- 修改输入、输出、缓存目录
- 支持浏览选择目录
- 自动创建不存在的目录

### 用户管理
- 查看当前用户列表
- 显示用户权限（管理员/普通用户）

### 其他功能
- 保存配置
- 重置为默认配置
- 创建配置的目录

## 文件结构

```
MSST WebUI/
├── MSST.bat                 # 主启动脚本
├── config_manager.py        # 配置管理工具
├── data/
│   └── webui_config.json    # 主配置文件
├── user.json               # 用户配置文件
├── install_config.json     # 安装配置记录
└── ...                     # 其他程序文件
```

## 配置文件说明

### webui_config.json
主要配置文件，包含：
- 服务器端口设置
- 目录路径配置
- 模型配置
- 其他系统设置

### user.json
用户配置文件，包含：
- 用户账户信息
- 密码哈希值
- 用户权限

### install_config.json
安装配置记录，包含：
- 安装路径
- 初始配置信息

## 故障排除

### 1. 启动失败
- 检查配置文件是否存在
- 运行配置管理工具检查设置
- 以管理员身份运行

### 2. 端口冲突
- 使用配置管理工具修改端口
- 确保端口未被其他程序占用

### 3. 目录权限问题
- 确保对配置的目录有读写权限
- 使用配置管理工具重新创建目录

### 4. 配置管理工具无法启动
- 确保Python环境正常
- 检查 `config_manager.py` 文件是否存在

## 卸载程序

1. 从控制面板卸载程序
2. 或运行安装目录下的 `unins000.exe`
3. 卸载会删除程序文件，但保留用户数据

## 技术支持

如遇到问题，请：
1. 查看程序日志文件
2. 运行配置管理工具检查设置
3. 重新安装程序
4. 联系技术支持

## 更新说明

### v1.0.0
- 初始版本
- 支持自定义安装路径
- 支持目录配置
- 支持端口设置
- 支持用户管理
- 提供配置管理工具
